{-# LANGUAGE DeriveDataTypeable #-}
{-# OPTIONS_GHC -XFlexibleInstances #-}


--------------------------------------------------------------------------
--------------------------------- Module ---------------------------------
--------------------------------------------------------------------------
module Valuation.Analytical  
    ( 
     Valuable, value, valueGreeks,
     ValueGreeksStorage (..), ValueStorage (..)
    ) where

--------------------------------------------------------------------------
------------------------------- Imports ----------------------------------
--------------------------------------------------------------------------
import Utils.MyJSON
import Utils.MyUtils

--------------------------------------------------------------------------
------------------------------- Classes ----------------------------------
--------------------------------------------------------------------------

class Valuable a where
    value       :: a -> Result_ ValueStorage
    valueGreeks :: a -> Result_ ValueGreeksStorage
--------------------------------------------------------------------------
-------------------------------- Alias -----------------------------------
--------------------------------------------------------------------------

--------------------------------------------------------------------------
------------------------------- Data -------------------------------------
--------------------------------------------------------------------------
data ValueGreeksStorage = ValueGreeksStorage {
                                                 vgsValue :: Double, 
                                                 vgsGreeks :: [Double], 
                                                 vgsSubValues :: [ValueGreeksStorage]
                                             } deriving (Eq, Show, Data, Typeable)
--------------------------------------------------------------------------
data ValueStorage = ValueStorage {
                                     vsValue :: Double, 
                                     vsSubValues :: [ValueStorage]
                                 } deriving (Eq, Show, Data, Typeable)


